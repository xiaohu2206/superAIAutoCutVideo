# 页面设计说明：视频逐段修剪弹窗（Desktop-first）

## 全局样式（适用于视频编辑页与弹窗）
- Layout: 以 Flexbox 为主，编辑区采用左右分栏；弹窗内部采用上(预览)/下(时间轴)结构 + 右侧列表。
- Global Tokens
  - 背景色：#0B0F14（编辑区深色）、弹窗面板：#111827
  - 文本主色：#E5E7EB；次级：#9CA3AF；危险：#F87171；强调：#60A5FA
  - 字体：系统字体；字号层级：12/14/16/20
  - 按钮：Primary(蓝) / Secondary(灰) / Danger(红)
  - Hover：亮度 +6%；Disabled：透明度 50%
- 交互与动效
  - 时间轴拖拽：拖拽中显示吸附线与时间码 tooltip（ms/HH:MM:SS.mmm）
  - 弹窗切换：150ms ease-out 淡入+上移

---

## 页面：视频编辑页

### Meta Information
- title: 视频编辑
- description: 预览并对视频进行逐段修剪
- og:title: 视频编辑

### Page Structure
- 顶部工具栏（固定高度 56px）
- 主体区域：左右两栏
  - 左栏：播放器预览（自适应高度，16:9 容器）
  - 右栏：操作面板（固定宽 360~420px）
- 底部：简版时间轴（仅用于定位与打开修剪弹窗）

### Sections & Components
1. 顶部工具栏
   - 左：返回/面包屑（可选） + 视频文件名
   - 右：按钮组
     - “逐段修剪”（Primary）：打开修剪弹窗
     - “处理中”状态徽标（当存在 active job）

2. 左栏：播放器预览
   - Video 元素/播放器组件
   - 控制条：播放/暂停、当前时间/总时长、音量、倍速（倍速可选）
   - 状态遮罩：
     - 处理中：显示进度条 + 文案（“正在生成新视频，将替换原文件”）
     - 失败：显示错误信息 + “重试”按钮（重试会复用上次区间配置）

3. 右栏：操作面板
   - 卡片 1：当前视频信息（时长、分辨率等，如系统已有则展示）
   - 卡片 2：最近一次修剪配置摘要
     - 模式：保留/删除
     - 区间数量
     - “继续编辑”：打开弹窗并恢复草稿

4. 底部简版时间轴
   - 仅展示全片缩略轨道 + 播放头（playhead）
   - 点击定位播放头
   - “打开逐段修剪”快捷入口

---

## 组件：逐段修剪弹窗（Modal）

### Meta Information
- 弹窗无需独立 SEO；但需可访问性：role="dialog"、aria-labelledby/aria-describedby

### Layout
- 桌面端尺寸：宽 1080~1280px，高 720~820px（最大不超过视窗 90%）
- 内部布局：
  - 顶部：标题栏（含关闭）
  - 中部：左右分栏
    - 左：预览播放器
    - 右：区间列表与模式选择
  - 底部：精细时间轴编辑区（全宽）
  - 底部操作区：取消 / 确认修剪

### Sections & Components
1. 标题栏
   - 标题：“逐段修剪”
   - 右侧：关闭按钮（X）
   - 副标题：提示文案（简短）：“选择多个区间进行保留/删除，可预览播放”

2. 模式选择（右栏顶部）
   - Segmented Control：
     - “保留区间”：表示仅拼接所选片段
     - “删除区间”：表示从全片中移除所选片段
   - 模式切换规则：切换时弹出确认（避免误解语义），并保留 ranges 但重新解释（或清空；二选一，建议：切换需二次确认并清空，减少风险）

3. 区间列表（右栏主体）
   - 列表项：
     - 序号 + 区间类型标记（保留/删除）
     - 起止时间输入（可直接输入 ms 或时间码）
     - 快捷按钮：定位到 start、定位到 end、删除
     - 校验提示：红色小字（start>=end、越界、重叠等）
   - 顶部操作：
     - “添加区间”按钮
     - “按时间排序”按钮（可选，若自动排序则不显示）

4. 预览播放器（左栏）
   - 与编辑页一致的播放器组件
   - 预览控制（专用于区间播放）：
     - 上一段 / 播放当前段 / 下一段
     - “循环当前段”开关
   - 播放逻辑：
     - 当选择某个区间时，播放限制在该区间内；到 end 自动暂停或跳到下一段（用户可配置，默认：暂停）

5. 精细时间轴编辑区（底部）
   - 轨道：
     - 全片缩略轨道（可选）
     - 区间覆盖层：以半透明色块显示 ranges（保留用蓝、删除用红）
     - Playhead：当前播放位置
   - 编辑方式：
     - 拖拽创建区间：按下拖动生成 start/end
     - 拖拽边界：左右把手调整 start/end
     - 吸附：吸附到 playhead、区间边界、整秒刻度
   - 视窗缩放：
     - 缩放条（zoom）+ 横向滚动

6. 不可逆确认（确认按钮触发）
   - 第一次点击“确认修剪”：弹出二次确认弹窗/Popover
   - 文案必须明确：
     - “处理成功后将不可逆替换原视频文件，无法恢复。确定继续吗？”
   - 操作：取消 / 继续

7. 任务进行时状态
   - 弹窗内禁用区间编辑、模式切换与确认按钮
   - 显示进度条与状态：排队/处理中
   - 允许关闭弹窗（任务继续），但在编辑页应持续显示任务状态

### Responsive（简述）
- >=1024px：按上述布局。
- <1024px：弹窗改为上下结构（播放器在上、列表在中、时间轴在下），右栏变为折叠面板。
