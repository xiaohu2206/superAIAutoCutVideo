## 后端数据结构
- 更新 `Project` 结构（backend/modules/projects_store.py）
  - 新增 `video_paths: string[]`（存储多个原始视频路径）
  - 新增 `merged_video_path?: string`（存储合并后视频路径）
  - 保留 `video_path` 作为“当前生效的视频路径”，规则：有 `merged_video_path` 用它；否则若 `video_paths` 只有一个则用该项；否则为 `null`
- 加载/保存兼容：旧数据仅有 `video_path` 时，初始化时将其并入 `video_paths`，并按规则回填 `video_path`

## 后端接口改造
- 上传视频 `POST /api/projects/{project_id}/upload/video`（backend/routes/project_routes.py:280-324）
  - 保存文件后将路径 `append` 到 `video_paths`
  - 根据规则更新 `video_path`（如列表长度为 1 则直接等于该路径；合并后则等于合并路径）
  - 响应保持 `FileUploadResponse` 结构不变
- 删除视频 `POST /api/projects/{project_id}/delete/video`（backend/routes/project_routes.py:370-404）
  - 接收可选参数 `file_path`（JSON 或表单都可）
  - 若提供 `file_path`：删除对应文件并从 `video_paths` 移除；不提供则兼容旧逻辑（清空单视频）
  - 删除后根据规则更新 `video_path`；不影响已有 `merged_video_path`
  - 响应返回 `{ removed: boolean, removed_path?: string }`
- 合并视频 `POST /api/projects/{project_id}/merge/videos`
  - 校验 `video_paths.length >= 2`
  - 采用已有 FFmpeg 封装 `VideoProcessor.concat_videos`（backend/modules/video_processor.py:69）稳健合并
  - 输出至 `uploads/videos/outputs/{project_name}/{project_id}_merged_{ts}.mp4`
  - 更新 `merged_video_path` 并将 `video_path` 同步为该合并路径
  - 响应沿用 `FileUploadResponse`（`file_path` 指向合并后文件）

## 前端类型与服务
- 更新类型（frontend/src/types/project.ts）
  - 新增 `video_paths?: string[]`、`merged_video_path?: string`
  - 保留并继续使用 `video_path` 表示“当前生效视频路径”
- 服务层（frontend/src/services/projectService.ts）
  - 新增 `mergeVideos(projectId): Promise<FileUploadResponse>` 调用合并接口
  - 删除接口支持传入 `file_path`（新增 `deleteVideoItem(projectId, filePath)`）
  - 上传接口保持不变

## 前端 Hook 改造
- `useProjects.ts`
  - `uploadVideos(files: FileList | File[])`：循环调用现有上传接口，逐个追加到 `project.video_paths`
  - `deleteVideoItem(filePath: string)`：调用后端删除，并从本地 `video_paths` 移除；按规则更新 `video_path`
  - `mergeVideos()`：调用合并接口，更新 `merged_video_path` 与 `video_path`
  - 生成脚本/生成视频继续使用 `project.video_path`，自动兼容单视频与合并后视频

## 页面改造（关键位置）
- 文件选择与拖拽（frontend/src/pages/ProjectEditPage.tsx:69-89）
  - 将 `<input type="file">` 改为 `multiple`
  - `handleVideoFileChange` 支持多文件批量上传并显示总进度
  - 拖拽区域 `onDrop` 支持批量文件
- 上传区展示与操作（frontend/src/pages/ProjectEditPage.tsx:433-472）
  - 展示 `project.video_paths` 列表（每项显示文件名与“删除”按钮）
  - 当 `video_paths.length >= 2` 显示“合并视频”按钮，点击触发 `mergeVideos()`
  - 保持原有生成脚本/生成视频按钮逻辑，但禁用条件基于 `project.video_path`

## 兼容与迁移
- 旧项目：首次加载时将原 `video_path` 并入 `video_paths`，无需手动迁移
- 逻辑更新：
  - 若仅上传一个视频：无需合并，`video_path` 自动等于该路径
  - 若上传多个视频且未合并：`video_path` 为 `null`，相关操作按钮按照该状态禁用
  - 合并成功后：`video_path` 指向合并后路径，前端显示该文件名

## 验证与测试
- 手动流程：
  - 创建项目并依次上传 1、2、N 个视频，观察 `video_paths` 与 `video_path` 状态切换
  - 删除任意一个视频项，验证列表与有效路径联动
  - 合并 2+ 视频，检查合并文件生成与 `merged_video_path`/`video_path` 更新
  - 生成脚本与生成视频均以 `project.video_path` 为输入，流程可通
- 兼容检查：旧接口调用保持稳定，新增功能通过新按钮触发

如确认，下一步我将按以上方案逐步修改后端与前端代码，覆盖到您标注的文件与行号处进行实现。